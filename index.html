<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>KanYeWest</title>
  <link rel="icon" type="image/x-icon" href="favicon.ico" />

  <!-- Open Graph -->
  <meta property="og:title"       content="KanYeWest" />
  <meta property="og:description" content="Wake Up Mr. West" />
  <meta property="og:image"       content="https://www.kanyewest.co.kr/preview.jpg" />
  <meta property="og:url"         content="https://www.kanyewest.co.kr" />
  <meta property="og:type"        content="website" />

  <style>
    /* ─── 레이아웃 / 이미지 ─── */
    html,body{margin:0;padding:0;width:100%;height:100%;background:#fbfbfb;
      overflow:hidden;display:flex;align-items:center;justify-content:center;position:relative;}
    img{max-width:100vw;max-height:100vh;object-fit:contain;pointer-events:none;
        user-select:none;-webkit-user-drag:none;}

    /* ─── 말풍선 ─── */
    .bubble-wrapper{position:absolute;bottom:30px;width:100%;display:flex;
                    justify-content:center;pointer-events:none;z-index:9999;}
    .imessage-bubble{background:#007aff;color:#fff;padding:12px 18px;font-size:14px;
      font-family:-apple-system,BlinkMacSystemFont,'Helvetica Neue',sans-serif;
      border-radius:14px;box-shadow:0 4px 10px rgba(0,0,0,.15);cursor:pointer;
      user-select:none;transition:all .15s ease;transform-origin:bottom center;
      position:relative;pointer-events:auto;}
    .imessage-bubble .tail{position:absolute;bottom:-8px;right:16px;width:20px;height:20px;
      background:url('tail.png') center/contain no-repeat;transition:transform .15s ease;}
    .imessage-bubble:active{transform:scale(.95);}
    .imessage-bubble:active .tail{transform:scale(.95);}
    .imessage-bubble:hover{background:#0060d0;}
  </style>
</head>
<body>
  <!-- 중앙 GIF -->
  <img src="yandhi.gif" alt="YANDHI" oncontextmenu="return false;" draggable="false"/>

  <!-- 오디오 플레이어 (loop 제거!) -->
  <audio id="bgm" preload="auto"></audio>

  <!-- 말풍선 -->
  <div class="bubble-wrapper">
    <div class="imessage-bubble"
         onclick="window.location.href='https://www.youtube.com/@Kanye-unreleased';">
      Go to HOW? Archive
      <span class="tail"></span>
    </div>
  </div>

  <script>
    /* ─── 모바일 WebView 100vh 보정 ─── */
    const fixVh = () => document.body.style.height = `${window.innerHeight}px`;
    fixVh();  window.addEventListener('resize', fixVh);

    /* ─── 재생 목록 & 오디오 컨트롤 ─── */
    const playlist = ["song1.mp3", "song2.mp3", "song3.mp3"];
    const bgm      = document.getElementById('bgm');

    /** 무작위로 (현재 곡 외) 다른 곡 반환 */
    function pickNext(current){
      const candidates = playlist.filter(src => src !== current);
      return candidates[Math.floor(Math.random() * candidates.length)];
    }

    /** 지정 곡 재생 */
    function playTrack(src){
      bgm.src = src;
      bgm.load();
      bgm.play().catch(()=>{});   // 자동재생 차단 대비
    }

    /* 최초 재생 */
    playTrack(playlist[Math.floor(Math.random()*playlist.length)]);

    /* 곡 종료 시 다음 곡으로 */
    bgm.addEventListener('ended', () => {
      playTrack(pickNext(bgm.src.split('/').pop()));  // 현재 파일명만 추출해 비교
    });

    /* 화면 아무 곳이나 클릭 → 재생/정지 토글 */
    document.addEventListener('click', () => {
      bgm.paused ? bgm.play() : bgm.pause();
    });
  </script>
</body>
</html>
